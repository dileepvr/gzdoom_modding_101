<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<meta name="author" content="Dileep V. Reddy">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css" type="text/css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tufte-css/1.8.0/tufte.css" type="text/css" />
<style type="text/css">
input[type='checkbox']{display: none;}
.spoiler{background-color: gray; color: transparent; user-select: none; display: inline;}
input[id^='redacted']:checked + .spoiler{background-color: inherit; color: inherit; transition: 0.5s; border: solid 1px;}
#table-of-contents {font-size: 1.5em;position: fixed;right: 0em;top: 0em;background: #fffff8;box-shadow: 0 0 1em #777777;
-webkit-box-shadow: 0 0 1em #777777;-moz-box-shadow: 0 0 1em #777777;border-bottom-radius-left: 5px;-webkit-border-bottom-left-radius: 5px;
-moz-border-radius-bottomleft: 5px;text-align: right;max-height: 80%;overflow: auto;z-index: 100;}
#table-of-contents h2 {font-size: 1em;max-width: 10em;font-weight: normal;padding-left: 0.5em;padding-right: 0.5em;padding-top: 0.05em;padding-bottom: 0.05em;z-index: 100;}
#table-of-contents #text-table-of-contents {display: none;text-align: left;}
 #table-of-contents:hover #text-table-of-contents {display: block;padding: 0.5em;margin-top: -1.5em;z-index: 100;}
#table-of-contents #text-table-of-contents li {margin-top: 0.5em;}
#table-of-contents #text-table-of-contents li a {margin-right: 0.5em;font-weight: bold;text-decoration: none;}
$monospace: et-book-ligatures, monospace;$code-size: 80%;$smaller: 90%;$max-width: 710px;
caption{margin-bottom: 0.3em;}figcaption{margin-top: 0.3em;}
details{font-size: 1.4rem;}summary:hover {font-weight: bold;}
#bibliography {font-size: $smaller;}#bibliography table {width: 100%;}
html::-webkit-scrollbar{display: inherit;}html{-ms-overflow-style: inherit;scrollbar-width: inherit;}
blockquote {font-style: italic;}div.epigraph{margin: 0 !important;}div.epigraph > blockquote{margin-top: 0 !important;margin-bottom: 0 !important;}
sup,sub{vertical-align: baseline;position: relative;top: -0.4em;}sub{top: 0.4em;}
div.figure {padding: 0;border: 0;font-size: 100%;font: inherit;vertical-align: baseline;width: 100%;-webkit-margin-start: 0;-webkit-margin-end: 0;margin: 0 0 3em 0;}
div.figure > p > video{max-width: 55%;}div.figure > p > video.fullwidth{max-width: 90%;}
div.figure > p.caption{float: right;clear: right;margin-top: 0;margin-bottom: 0;font-size: 1.1rem;line-height: 1.6;vertical-align: baseline;position: relative;width: calc(55% / 2);margin-right: 12%;}
div.figure > p:nth-child(2){float: right;clear: right;margin-top: 0;margin-bottom: 0;font-size: 1.1rem;line-height: 1.6;vertical-align: baseline;position: relative;max-width: 80%;}
.figure-number {display: none;}a:link{text-decoration: underline;background: none;text-shadow: none;}
input#lightswitch{width: 2em;height: 1.5em;padding-left: 0.5em;}label#lightswitch-label{cursor: pointer;padding-left: 0.5em;font-size: 1.5em;}
body{margin: 0;max-width: 100%;padding: 0;width: 100%;}
h1{font-weight: 400;margin-top: 4rem;margin-bottom: 1.5rem;font-size: 3.2rem;line-height: 1;}
h2{font-style: italic;font-weight: 400;margin-top: 2.1rem;margin-bottom: 1.4rem;font-size: 2.8rem;line-height: 1;}
h3{font-style: italic;font-weight: 400;font-size: 2.2rem;margin-top: 2rem;margin-bottom: 1.4rem;line-height: 1;}
h4{font-style: italic;font-weight: 400;font-size: 1.8rem;margin-top: 2rem;margin-bottom: 1.4rem;line-height: 1;text-decoration: underline;}
pre code{font-size: 1.1em;padding: 0pt;overflow: auto;margin: 2em;position: relative;padding-top: 0.2em;padding-left: 1em;padding-right: 1em;border: 1px solid black;}
div#body{min-height: calc(100vh - 4em);padding-bottom: 2em;padding-top: 2em;overflow-y: auto;}
div#container{margin-left: auto;margin-right: auto;max-width: 1400px;padding-left: 12.5%;width: 87.5%;}article{padding-top: 0;}
@media (max-width: 760px){body{width: 100%;margin: 0;padding: 0;}div#body{width: 92%;padding-right: 8%;}}
:root{--dark-bg: #002b36;--dark-bg2: #224d57;--dark-color: #eee8d5;--dark-code: #b5c3c3;--light-bg: #fffff8;--light-bg2: #ccccc5;--light-color: #111;--light-code: #435961;}
@media (prefers-color-scheme: dark){div#body{background-color: var(--dark-bg);color: var(--dark-color);}
#table-of-contents{background: var(--dark-bg);}input#lightswitch:checked ~ div#body {background-color: var(--light-bg);color: var(--light-color);}
input#lightswitch:checked ~ #body #container #content #table-of-contents{background: var(--light-bg);}input#lightswitch:checked + label {font-weight: bold;}
pre code{color: var(--dark-code);background-color: var(--dark-bg2);}input#lightswitch:checked ~ #body #container #content pre code {color: var(--light-code);background-color: var(--light-bg2);}
table{border-color: var(--dark-fg);}input#lightswitch:checked ~ table{border-color: var(--light-code);}}
@media (prefers-color-scheme: light){div#body{background-color: var(--light-bg);color: var(--light-color);}
#table-of-contents{background: var(--light-bg);}input#lightswitch:checked ~ div#body{background-color: var(--dark-bg);color: var(--dark-color);}
input#lightswitch:checked ~ #body #container #content #table-of-contents{background: var(--dark-bg);}input#lightswitch:checked + label{font-weight: bold;}
pre code{color: var(--light-code);background-color: var(--light-bg2);}
input#lightswitch:checked ~ #body #container #content pre code{color: var(--dark-code);background-color: var(--dark-bg2);}
table{border-color: var(--light-fg);}input#lightswitch:checked ~ table{border-color: var(--dark-code);}}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script></head>
<input id="lightswitch" type="checkbox" class="lightswitch">
<label id="lightswitch-label" for="lightswitch">Switch Color Mode</label>
<body>
<div id="body"><div id="container"><div id="content"><article><h1 class="title">Getting Started with GZDoom Modding</h1>
<nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgdb5bd3e">Running GZDoom and understanding WADs</a>
<ul>
<li><a href="#org6c3d126">Getting the Engine</a></li>
<li><a href="#org14d7e03">Getting some IWADs</a></li>
</ul>
</li>
<li><a href="#orgc51c625">Basic replacement mods</a>
<ul>
<li><a href="#orgfc24058">Texture replacement</a></li>
<li><a href="#org3441b3a">Text files as lumps</a></li>
<li><a href="#orgb4a10b8">Basics of SLADE</a></li>
<li><a href="#orge1f3a6d">Sprite replacement and offsets</a></li>
</ul>
</li>
<li><a href="#orga486b49">Zscript class replacements</a>
<ul>
<li><a href="#orgd9881dd">New pickup item</a></li>
<li><a href="#org67ab0fb">Modifying Zombieman</a></li>
<li><a href="#orgdd78101">Modifying weapon</a></li>
</ul>
</li>
<li><a href="#orgfe9750e">Basics of mapping</a>
<ul>
<li><a href="#org4545fc5">Getting UDB</a></li>
<li><a href="#org14dd2d0">The Mapfile lump</a></li>
</ul>
</li>
<li><a href="#orgc9ab7ee">Misc.</a>
<ul>
<li><a href="#org9571b06">Git and version control</a></li>
<li><a href="#orgd99b003">Seeking help and forum/discord etiquette</a></li>
<li><a href="#org6937c31">Studying famous mods</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<section><p>
This guide will introduce the basics of modding for the GZDoom source
port. It is aimed at beginners with little-to-no technical
knowledge. For more advanced help, check the <a href="https://zdoom.org/wiki/Tutorials">Tutorials page</a> on the
zdoom wiki, or Jekyll Grim&rsquo;s <a href="https://jekyllgrim.github.io/ZScript_Basics/">Zscript basics</a>. The guide will focus on
GZDoom, but might have limited applicability to other source ports. It
is structured as a sequence of exercises that the reader is expected
to follow along. It presents particular ways of doing things in
particular chapters for pedagogical reasons and to inculcate good
habits. It will not present the full context or historical information
for everything, because it is meant to be a first-pass curriculum,
where too much extraneous information can be overwhelming and
counter-productive. You can recommend additions/changes to this guide by
submitting PRs to the <a href="https://github.com/dileepvr/gzdoom_modding_101">github repo</a>. Please only make changes to the
<code>index.org</code> file. Do not edit the <code>html</code> file directly.
</p>
</section>

<div id="outline-container-orgdb5bd3e" class="outline-2">
<h2 id="orgdb5bd3e">Running GZDoom and understanding WADs</h2>
<div class="outline-text-2" id="text-orgdb5bd3e">
</div>
<div id="outline-container-org6c3d126" class="outline-3">
<h3 id="org6c3d126">Getting the Engine</h3>
<section><p>
First, let us get GZDoom running and playing a game. Download the
latest version of GZDoom (and not ZDoom) for your operating system
from here: <a href="https://zdoom.org/downloads">https://zdoom.org/downloads</a>
</p>

<p>
If you are running on Linux, you might be better off <a href="https://zdoom.org/wiki/Compile_GZDoom_on_Linux">compiling it from
source</a>. That is not a ding. I do this myself.
</p>


<p>
After downloading and unpacking, you should end up with a folder
somewhere on your computer with files named:
</p>
<ul class="org-ul">
<li><code>gzdoom.exe</code> (or just <code>gzdoom</code>)</li>
<li><code>gzdoom.pk3</code></li>
<li><code>lights.pk3</code></li>
<li><code>brightmaps.pk3</code></li>
<li><code>game_support.pk3</code></li>
<li><code>game_widescreen_gfx.pk3</code></li>
<li><code>fm_banks</code> (folder)</li>
<li><code>soundfonts</code> (folder)</li>
</ul>

<p>
Depending on the OS you downloaded for, you might have some extra
files like <code>*.dll</code> files. If you try to run the executable file
(<code>gzdoom.exe</code>) by either double-clicking on it, or running the command
from a terminal/command-prompt from that folder location, it should
throw up a message saying that it couldn&rsquo;t find any IWADs.
</p>

<p>
To run as a command, open a terminal (Linux) or command prompt
(Windows), and navigate to the directory location using the
change-directory (<code>cd</code>) command. When there, list the files using the
<code>ls</code> (Linux) or <code>dir</code> (Windows) command. It should print out all the
files from the above list. Then from there, just type <code>./gzdoom</code>
(Linux) or <code>gzdoom.exe</code> (Windows). This has the same effect as
double-clicking the file from your graphical file browser. Keep the
terminal/command-prompt open (minimize it for now). We won&rsquo;t be using
the command method everytime but it helps understand what is happening
under the hood.
</p>
</section>
</div>

<div id="outline-container-org14d7e03" class="outline-3">
<h3 id="org14d7e03">Getting some IWADs</h3>
<section><p>
Running the engine executable by itself couldn&rsquo;t run a game because
you haven&rsquo;t downloaded any actual games for the engine to run. Let us
fix that. For this guide, we will be using Freedoom, but you could
follow the same steps with Doom 1 and Doom 2 if you have purchased
those wad files from you favorite legal videogame store.
</p>

<p>
Acquire the files <code>freedoom1.wad</code> and <code>freedoom2.wad</code> from
<a href="https://freedoom.github.io/download.html">https://freedoom.github.io/download.html</a> (click on the <code>Freedoom:
Phase 1+2</code> hyperlink). Extract these two files from the zip archive
and place them in the same directory as your GZDoom executable. If you
are having trouble opening a zip archive file, double-click or
right-click on it and &ldquo;extract&rdquo; the contents. On the Linux terminal, a
tool like <code>unzip</code> can also be used. With the files placed at the same
location as your GZDoom executable, running GZDoom again should cause
the program to auto-detect <code>freedoom1.wad</code> and <code>freedoom2.wad</code> and
list them for selection on startup.
</p>

<p>
Let&rsquo;s run Freedoom2 from the command line. From the
terminal/command-prompt, run the following command:
</p>

<ul class="org-ul">
<li>Windows</li>
</ul>
<pre class="code"><code>gzdoom.exe -iwad freedoom2.wad
</code></pre>
<ul class="org-ul">
<li>Linux</li>
</ul>
<pre class="code"><code>./gzdoom -iwad freedoom2.wad
</code></pre>

<p>
The game should launch, and you should be greeted with these starting
screens of main menu, and the first level:
</p>


<figure id="org19c3d0c">
<img src="./images/screenshot01.jpg" alt="screenshot01.jpg" width="800px">

<figcaption><span class="figure-number">Figure 1: </span>Main menu screen for Freedoom 2 (v0.13.0)</figcaption>
</figure>


<figure id="org7da7dc4">
<img src="./images/screenshot02.jpg" alt="screenshot02.jpg" width="800px">

<figcaption><span class="figure-number">Figure 2: </span>Starting area of MAP01 in Freedoom 2 (v0.13.0)</figcaption>
</figure>

<p>
These screenshots are from running version 0.13.0 of
<code>freedoom2.wad</code>. Another version might look slightly different.
</p>

<p>
The files <code>freedoom.wad</code> and <code>freedoom2.wad</code> are called IWADs, which
is short for <a href="https://zdoom.org/wiki/IWAD">internal WADs</a>. These are wad-files that have all the
information within them for the engine to run a whole game. Later on,
we will take a look into what is actually inside them by using another
program.
</p>
</section>
</div>
</div>

<div id="outline-container-orgc51c625" class="outline-2">
<h2 id="orgc51c625">Basic replacement mods</h2>
<div class="outline-text-2" id="text-orgc51c625">
</div>
<div id="outline-container-orgfc24058" class="outline-3">
<h3 id="orgfc24058">Texture replacement</h3>
<section><p>
Now we are going to make our first mod. Create a project folder
somewhere on your computer. Call it something like
&ldquo;<code>my_first_mod</code>&rdquo;. Inside of it, create a folder named
&ldquo;<code>textures</code>&rdquo;. The name of this folder is important. It has to be spelt
exactly and cannot be arbitrary. Now, right click the following image
file and save it inside the &ldquo;<code>textures</code>&rdquo; folder. Make sure that it is
named <code>AQRUST08.png</code>. The filename is important.
</p>


<figure id="org5c6a0a3">
<img src="./images/AQRUST08.png" alt="AQRUST08.png">

<figcaption><span class="figure-number">Figure 3: </span><code>AQRUST08.png</code> modified wall texture</figcaption>
</figure>

<p>
Now, zip the <code>textures</code> folder into a zip-archive file called
something like <code>my_first_mod.zip</code>. The filename of this zip archive is
not important and can be anything of your choosing. You can
right-click the folder and compress it into a zip file. On Linux, you
can run this command from the location of your project folder:
</p>

<pre class="code"><code>zip -r my_first_mod.zip textures/
</code></pre>

<p>
This uses the <code>zip</code> program with the <code>-r</code> recursive flag to make sure
that contents of subfolders end up inside the zip
file. Congratulations. As far is the current version of GZDoom (4.14.0
as of this writing) is concerned, you just made your first mod. Now
let&rsquo;s run it. You can do this either by dragging and dropping the zip
file onto your <code>gzdoom.exe</code> executable file, and selecting the
<code>freedoom2.wad</code> IWAD when it asks, or running the command:
</p>

<pre class="code"><code>./gzdoom -iwad freedoom2.wad -file &lt;PATH-TO-PROJECT-FOLDER&gt;/my_first_mod.zip
</code></pre>

<p>
Once you launch the game, you should be greeted to this view:
</p>


<figure id="orgb41c6ce">
<img src="./images/screenshot03.jpg" alt="screenshot03.jpg" width="800px">

<figcaption><span class="figure-number">Figure 4: </span>Opening area of MAP01 in Freedoom 2 (v0.13.0) with a texture replaced</figcaption>
</figure>
</section>

<div id="outline-container-org8aba5f4" class="outline-4">
<h4 id="org8aba5f4">Analysis</h4>
<section><p>
Let us unpack what is happening here. You ran GZDoom with two files:
<code>freedoom2.wad</code> and <code>my_first_mod.zip</code>. The first one is the IWAD,
meaning the file that contains the base game. The second one is what
is called a PWAD (short for <a href="https://zdoom.org/wiki/PWAD">patch WAD</a>). The IWAD contained a texture
lump (will explain later) named <code>AQRUST08</code>, and a map lump (among
others) named <code>MAP01</code>, and instructions inside the map lump for the
engine to paint that texture on a specific bunch of walls (with some
offsets, lighting effects, etc.). This is what happens when you run
GZDoom with just the IWAD <code>freedoom2.wad</code> by itself. But when you run
the IWAD with this PWAD, which contains its own copy of the <code>AQRUST08</code>
texture, the engine replaces all instances of that texture with the
one from your PWAD. <b>This is also why it was important to name the
file exactly right.</b> If you load two PWADs that both replace the same
texture like so:
</p>

<pre class="code"><code>./gzdoom -iwad freedoom2.wad -file mod1.pk3 -file mod2.pk3
</code></pre>

<p>
then the replacement texture from the last PWAD (<code>mod2.pk3</code>) will be
used. Think of it like the replacement instructions are executed
serially, in the sequence of the files.
</p>
</section>
</div>

<div id="outline-container-org3d8fc5d" class="outline-4">
<h4 id="org3d8fc5d">Get setup with a Launcher before proceeding further</h4>
<section><p>
This is one reason I illustrated the command line method of launching
GZDoom. Selecting multiple mod files and dragging-and-dropping them
onto the GZDoom executable does not give you control over the mod load
order. People routinely play games on GZDoom with 5-15 mods loaded at
once, often in a specific order. Don&rsquo;t worry. No one is actually
typing out long commands. They are using launcher programs like <a href="https://zdoom.org/wiki/ZDL">ZDL</a> or
<a href="https://github.com/Youda008/DoomRunner/releases/">DoomRunner</a>. I myself am partial to DoomRunner. Pick one and stick to
it.
</p>

<p>
Most launcher programs allow saving of presets for various mod and
order combinations. On first launch, they typically ask you to select
engine executables, a list of IWADs, and the usual location for
various kinds of PWADs like map packs. So you don&rsquo;t have to put files
in your GZDoom folder, or any other specific location. You should feel
free to organize your files on your computer any way you see fit. Here
is a view of my DoomRunner front page:
</p>


<figure id="orgbcd1cdb">
<img src="./images/doomrunner01.jpg" alt="doomrunner01.jpg" width="800px">

</figure>

<p>
As you can see, I have highlighted a preset that I have named
&ldquo;<code>Elementalism</code>&rdquo; that is using the GZDoom executable, the <code>doom2.wad</code>
IWAD file, and a whole bunch of PWADs in a particular
order. <code>Elementalism</code> is an ambitious map pack, and <code>Hellrider
Vengeful</code> is a weapons and player-movement mod. Here, I am adding a
mod called <code>Flashlight++</code> even though <code>Hellrider</code> already comes with a
flashlight, because the maps in <code>Elementalism</code> have all been
programmed to strip the player of all inventory items and pistol-start
every level. And the flashlight in <code>Flashlight++</code> happens to be
unclearable using that method. If I were to try and and another mod
that modifies weapons, like <code>Beautiful Doom</code> to this list, then the
conflict with <code>Hellrider</code> will cause all weapons to be replaced by one
mod and ammunition pickups be of the other. So not all mods are
designed to go together. I mostly ignore DoomRunner&rsquo;s separate map
pack subwindow and load map-pack mods as regular mods, with full
control over load order.
</p>

<p>
For the rest of this guide, I recommend picking a launcher program and
launching GZDoom with <code>my_first_mod.zip</code> and <code>freedoom2.wad</code> just to
develop good habits. Under the hood, all these Lauchers are just
constructing and executing lengthy commands like the ones above.
</p>


<figure id="orge89bcca">
<img src="./images/doomrunner02.jpg" alt="doomrunner02.jpg" width="800px">

</figure>

<p>
And yes, you can rename your mod <code>my_first_mod.pk3</code> if you want. The
file extension doesn&rsquo;t matter, and only exists to help you. Modern
GZDoom PWADs are named <code>*.pk3</code> and IWADs are named <code>*.ipk3</code> (we&rsquo;ll get
there). You might recall that the engine&rsquo;s internal files that came
with the GZDoom download (<code>lights.pk3</code>, <code>brightmaps.pk3</code>,
<code>game_support.pk3</code>, etc.) are also <code>*.pk3</code> files. These are the only
ones that should not be moved out of the GZDoom executable&rsquo;s folder.
</p>

<p>
Older mods, and mods made to be interoperable with source ports other
than GZDoom aren&rsquo;t zip files, but are instead of the WAD format. While
GZDoom can read WAD files (the IWAD freedoom2.wad is a WAD file, after
all), the best practice is to make mods as <code>*.pk3</code> files (which are
secretly zip files). Only levels/maps need to be in the old WAD
format. More on that later.
</p>
</section>
</div>
</div>

<div id="outline-container-org3441b3a" class="outline-3">
<h3 id="org3441b3a">Text files as lumps</h3>
<section><p>
Let us continue adding to your mod. So far, you have a zip file
(possibly renamed &ldquo;<code>my_first_mod.pk3</code>&rdquo;) which contains a folder named
<code>textures</code>, which in-turn contains a <code>png</code> image file named
<code>AQRUST08.png</code>. It was important for this file to be a <code>png</code> file. And
it is very important that both the folder and file names are what they
are for the mod to work. The filename had to be <code>AQRUST08</code> because
that tells the engine what texture it is meant to replace. The folder
name <code>textures</code> is a reserved name. The engine (and most map editors)
interpretes it as a location for texture files. You can put any <code>png</code>
images in them, and even organize them into subfolders within. But you
cannot put other arbitrary data in it and expect it to work. Nor can
you just put the <code>AQRUST08.png</code> file alone in a zip archive and expect
the replacement to work.
</p>

<p>
There are other reserved names, as far as files and folders in the
root (top) location of the zip archive is concerned. These reserved
names can have any capitalization. They can be camelcase, all upper
case, or lower case. It is all the same to the engine. Reserved names
for folders include &ldquo;<code>textures</code>&rdquo;, &ldquo;<code>flats</code>&rdquo;, &ldquo;<code>sprites</code>&rdquo;, &ldquo;<code>maps</code>&rdquo;,
etc. A <a href="https://zdoom.org/wiki/Using_ZIPs_as_WAD_replacement#How_to">full list</a> is on the wiki. You can have other folders and
subfolders, but these and their contents are treated by the engine in
a special way. Reserved names for files include <a href="https://zdoom.org/wiki/TEXTURES"><code>TEXTURES</code></a>, <a href="https://zdoom.org/wiki/ZScript#Load_order"><code>ZSCRIPT</code></a>,
<a href="https://zdoom.org/wiki/MAPINFO"><code>MAPINFO</code></a>, <a href="https://zdoom.org/wiki/GLDEFS"><code>GLDEFS</code></a>, etc. Again, the capitalization doesn&rsquo;t matter,
and you can give them any file extensions you want (<code>*.lmp</code>, <code>*.txt</code>,
<code>*.zsc</code>). You can store other files in the root location of your mod
(like a lincense file, a readme, or a credits file if you end up using
other people&rsquo;s work), but they cannot use these reserved names.
</p>

<p>
Files in <code>*.pk3</code> archives may be referred to as lumps as a holdover
from the wad-format days. The wad-format is also a sort of archive
format like <code>zip</code>. Contiguous sequence of bits inside a wad-file
(often marked with a <code>start</code> and <code>end</code> markers) represent specific
types of data. We can explore this later, but we don&rsquo;t have to worry
about that as long as we have subfolders and reserved names. These
special lumps are often just text files that have their own format for
presenting data to the engine. Let us try and use one to get a better
feel.
</p>

<p>
For this next exercise, we will replace the texture on the door
visible from the starting area in Freedoom 2. The lump name for this
texture needs to be <code>BIGDOOR1</code>. But we will not just be using a file
named <code>BIGDOOR1.png</code> in the <code>textures</code> folder, even though that will
work. We will instead use use some other file name, and try to use the
<code>TEXTURES</code> lump to make it work.
</p>

<p>
Pick any <code>png</code> image file you want. I&rsquo;m going with <a href="https://en.wikipedia.org/wiki/John_Romero">John Romero&rsquo;s</a>
forehead. Crop/scale the image using some image manipulation program
like GIMP, Photoshop, or even MSPaint, to fit into 128 x 96 pixels to
match the door&rsquo;s texture size. I named my file <code>John_Romero.png</code>, and
I placed it inside a subfolder inside the <code>textures</code> folder called
<code>custom</code>. Then, open a text file in the project root location called
<code>TEXTURES.lmp</code>. Put the following lines into it (replace the path and
file name to match your new image):
</p>

<pre class="code"><code>Texture BIGDOOR1, 128, 96
{
   Patch "textures/custom/John_Romero.png", 0, 0
}
</code></pre>

<p>
Now re-compress the zip archive with these two new files and the new subfolder.
</p>

<pre class="code"><code>zip -r my_first_mod.zip textures/ TEXTURES.lmp
</code></pre>

<p>
The archive&rsquo;s internal structure should look something like this:
</p>


<figure id="org79b308d">
<img src="./images/filestructure01.jpg" alt="filestructure01.jpg">

</figure>

<p>
Now, running the PWAD with the <code>freedoom2.wad</code> IWAD (through a
launcher like DoomRunner) should bring up this view:
</p>


<figure id="orgfa12e86">
<img src="./images/screenshot06.jpg" alt="screenshot06.jpg" width="800px">

</figure>

<p>
What the <code>TEXTURES.lmp</code> file (or the <code>TEXTURES</code> lump) did was create a
new, virtual texture container with the name <code>BIGDOOR1</code> with the image
<code>John_Romer.png</code> patched in, and presented that to the engine. You can
create new virtual textures this way by combining and mashing multiple
other textures together (yes, even other virtual ones). You can scale,
rotate, skew, mirror/flip, and mask, as well as do other kinds of
transformations without actually creating new image files to be stored
in the PWAD. The <code>TEXTURES</code> lump is a great way to put a decorative
poster or graffiti onto an existing wall texture. An example we will
go through later will involve slapping an interactable switch onto a
wall texture for use in a custom map.
</p>

<p>
These lump names, you will notice, have both been eight characters
long (<code>AQRUST08</code>, <code>BIGDOOR1</code>). This is another hold-over from the DOS
days, where file names would be truncated to height characters. The
case doesn&rsquo;t matter, but you have to stick to this convention while
naming lumps. Later on when we get into map making, you will find that
certain map formats allow for use of full texture filenames with full
paths instead of these short lump names. It is still recommended that
you use these lump names instead. Because this makes your maps easily
moddable (by you as well as others!) if the lump names are
standardized.
</p>
</section>
</div>

<div id="outline-container-orgb4a10b8" class="outline-3">
<h3 id="orgb4a10b8">Basics of SLADE</h3>
<section><p>
Coming soon &#x2026;
</p>
</section>
</div>

<div id="outline-container-orge1f3a6d" class="outline-3">
<h3 id="orge1f3a6d">Sprite replacement and offsets</h3>
<section><p>
Coming soon &#x2026;
</p>


<figure id="org7d3c272">
<img src="./images/screenshot04.jpg" alt="screenshot04.jpg" width="800px">

</figure>
</section>
</div>
</div>

<div id="outline-container-orga486b49" class="outline-2">
<h2 id="orga486b49">Zscript class replacements</h2>
<div class="outline-text-2" id="text-orga486b49">
</div>
<div id="outline-container-orgd9881dd" class="outline-3">
<h3 id="orgd9881dd">New pickup item</h3>
<section><p>
Coming soon &#x2026;
</p>
</section>
</div>

<div id="outline-container-org67ab0fb" class="outline-3">
<h3 id="org67ab0fb">Modifying Zombieman</h3>
<section><p>
Coming soon &#x2026;
</p>


<figure id="orga72281e">
<img src="./images/screenshot05.jpg" alt="screenshot05.jpg" width="800px">

</figure>
</section>
</div>

<div id="outline-container-orgdd78101" class="outline-3">
<h3 id="orgdd78101">Modifying weapon</h3>
<section><p>
Coming soon &#x2026;
</p>
</section>
</div>
</div>

<div id="outline-container-orgfe9750e" class="outline-2">
<h2 id="orgfe9750e">Basics of mapping</h2>
<div class="outline-text-2" id="text-orgfe9750e">
</div>
<div id="outline-container-org4545fc5" class="outline-3">
<h3 id="org4545fc5">Getting UDB</h3>
<div class="outline-text-3" id="text-org4545fc5">
</div>
<div id="outline-container-org2b86466" class="outline-4">
<h4 id="org2b86466">First room</h4>
</div>
<div id="outline-container-org9c8cf83" class="outline-4">
<h4 id="org9c8cf83">Using custom textures from your mod</h4>
</div>
<div id="outline-container-org2fcf02f" class="outline-4">
<h4 id="org2fcf02f">Placing custom things from your mod</h4>
</div>
</div>

<div id="outline-container-org14dd2d0" class="outline-3">
<h3 id="org14dd2d0">The Mapfile lump</h3>
<section><p>
Coming soon &#x2026;
</p>
</section>

<div id="outline-container-org404d262" class="outline-4">
<h4 id="org404d262">Changing name for freedoom1</h4>
</div>
<div id="outline-container-orgb2172d8" class="outline-4">
<h4 id="orgb2172d8">MAPINFO lump</h4>
</div>
<div id="outline-container-org625ca25" class="outline-4">
<h4 id="org625ca25">Packing the map with your mod</h4>
</div>
</div>
</div>

<div id="outline-container-orgc9ab7ee" class="outline-2">
<h2 id="orgc9ab7ee">Misc.</h2>
<div class="outline-text-2" id="text-orgc9ab7ee">
</div>
<div id="outline-container-org9571b06" class="outline-3">
<h3 id="org9571b06">Git and version control</h3>
<section><p>
Coming soon &#x2026;
</p>
</section>
</div>

<div id="outline-container-orgd99b003" class="outline-3">
<h3 id="orgd99b003">Seeking help and forum/discord etiquette</h3>
<section><p>
Coming soon &#x2026;
</p>
</section>
</div>

<div id="outline-container-org6937c31" class="outline-3">
<h3 id="org6937c31">Studying famous mods</h3>
<section><p>
Coming soon &#x2026;
</p>
</section>
</div>
</div>
</article></div></div></div>
   </body>
</html>
